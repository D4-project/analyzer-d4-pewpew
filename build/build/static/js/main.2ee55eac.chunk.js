(this.webpackJsonppewpew=this.webpackJsonppewpew||[]).push([[0],{70:function(e,t,n){e.exports=n(91)},75:function(e,t,n){},76:function(e,t){},77:function(e,t){},78:function(e,t){},91:function(e,t,n){"use strict";n.r(t);var o=n(21),i=n.n(o),a=n(61),r=n.n(a),s=(n(75),n(58)),c=n(62),l=n(63),u=n(44),p=n(69),w=n(68),d=n(57),h=window.location+"map/ne_50m_admin_0_scale_rank.geojson",g=[],m=function(e){Object(p.a)(n,e);var t=Object(w.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e))._onViewportChange=function(e){o.setState({viewport:Object(s.a)(Object(s.a)({},o.state.viewport),e)})},o._resize=function(){o._onViewportChange({width:window.innerWidth,height:window.innerHeight})},o.state={viewport:{width:window.innerWidth,height:window.innerHeight,longitude:6.1319346,latitude:49.611621,zoom:4,maxZoom:12},points:[]},o._getData=o._getData.bind(Object(u.a)(o)),o._processData=o._processData.bind(Object(u.a)(o)),o}return Object(l.a)(n,[{key:"_getData",value:function(){var e=window.location,t=this,n="ws:";"https:"===e.protocol&&(n="wss:"),n+="//"+e.host,n+=e.pathname+"ws";var o=new WebSocket(n);o.onopen=function(){console.log("Connected")},o.onmessage=function(e){var n=JSON.parse(e.data);g.push(n[0]),t._processData()}}},{key:"componentDidMount",value:function(){this._getData(),this._processData(),window.addEventListener("resize",this._resize),this._resize()}},{key:"_processData",value:function(){if(g){console.log(g);var e=g.reduce((function(e,t){return console.log(t),e.push({position:[Number(t.geoip_lon),Number(t.geoip_lat)]}),e}),[]);this.setState({points:e})}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resize)}},{key:"render",value:function(){return i.a.createElement(d.c,{controller:!0,initialViewState:this.state.viewport},i.a.createElement(d.b,{id:"base-map",data:h,stroked:!0,filled:!0,lineWidthMinPixels:2,opacity:.4,getLineColor:[60,60,60],getFillColor:[200,200,200]}),i.a.createElement(d.a,{id:"arcs",data:this.state.points,getSourcePosition:function(e){return[6.1319346,49.611621]},getTargetPosition:function(e){return e.position},getSourceColor:[0,128,200],getTargetColor:[200,0,80],getWidth:1}))}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.2ee55eac.chunk.js.map